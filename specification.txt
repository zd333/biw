Программа массового добавления "водяных знаков" в графические файлы.


Разработать под платформу .NET с использованием WPF.


Описание пользовательского интерфейса.
Программа должна содержать одно основное окно со всеми графическими элементами пользовательского интерфейса.
Основные графические элементы:
- вкладка ввода путей к директории-источнику, директории-приемнику;
- вкладка массового добавления водяных знаков;
- вкладка параметров водяного знака;
- вкладка параметров сохранения результатов;
- область просмотра результата.


Описание функционала.
Пользователь выбирает в качестве входных данных директорию источник. При этом все графические файлы, соответсвующие выбранным пользователем расширениям, загружаются для обработки программой.
Должна иметься возможность включить в работу файлы из всех вложенных директорий.
Выбор директории должен осуществляться с помощью соответствуюшего диалогового окна.
Аналогично должна быть организована работа с директорией-приемником.
Должна иметься возможность заменить файлы (приемник совпадает с источником).

На вкладке массового добавления водяных знаков необходимо указать количество добавляемых водяных знаков по горизонтали и количество по вертикали, а так же параметры водяных знаков (см. ниже).
Результат выбранных настроек массового добавления выводится в область просмотра на первый графический файл из списка загруженных для обработки. Обработка результата предваритального просмотра должна происходить в асинхронном режиме.
После нажатия кнопки добавить - выполняется добавление знаков на все картинки, загруженные для обработки (так же выполняется в асинхронном режиме). Процесс добавления должен выполняться с использованием технологии распараллеливания.
Должна быть предусмотрена кнопка отмены процесса текущего добавления. Кнопка должна быть активна только до момента окончания процесса добавления.
Должна иметься возможность выбрать и отредактировать любой из уже добавленных водяных знаков в области просмотра результатов.
Вкладка параметров водяного знака должна содержать следующие элементы:
- текст (для текста);
- шрифт + атрибуты шрифта (для текста);
- картинка (нрафический файл png);
- координаты размещения;
- угол скашивания;
- процент масштабирования;
- угол наклона;
- прозрачность;
- размытие.

Вкладка параметров сохранения результатов должна содержать кнопку сохранения результатов обработки.
Кроме того, должны присутствовать следующие элементы:
- флажок включения возможности изменения разрешения результирующих графических файлов;
- поле ввода необходимого разрешения (активно в случае установки соответствующего флажка);
- флажок включения возможности изменения формата результирующих графических файлов;
- поле выбора необходимого формата (активно в случае установки соответствующего флажка).
Должен быть предусмотрен механизм сохранения и загрузки шаблонов набора водяных знаков.

Так же должен быть разработан мастер, проводящий пользователя по всем необходимым шагам.